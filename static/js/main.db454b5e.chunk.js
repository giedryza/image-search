(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{14:function(e,t,r){},17:function(e,t,r){"use strict";r.r(t);var n=r(0),a=r.n(n),c=r(6),o=r.n(c),l=(r(14),r(2)),i=r(1),u=a.a.createContext({queries:[],saveQuery:function(e){},deleteQuery:function(e){}}),s=function(e){var t=e.children,r=Object(n.useState)([]),c=Object(i.a)(r,2),o=c[0],s=c[1];return a.a.createElement(u.Provider,{value:{queries:o,saveQuery:function(e){if(o.includes(e))throw new Error("You have already saved this search");var t=Object(l.a)(o);t.push(e),s(t)},deleteQuery:function(e){var t=o.filter(function(t){return t!==e});s(t)}}},t)},f=function(e){var t=e.children;return a.a.createElement("main",{className:"container"},t)},p=r(3),m=r(4),v=r.n(m),y=r(7);function g(){return(g=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function b(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},c=Object.keys(e);for(n=0;n<c.length;n++)r=c[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(n=0;n<c.length;n++)r=c[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var h=a.a.createElement("polyline",{points:"20 6 9 17 4 12"}),O=function(e){var t=e.svgRef,r=b(e,["svgRef"]);return a.a.createElement("svg",g({viewBox:"0 0 24 24",fill:"none",stroke:"#000000",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round",ref:t},r),h)},d=a.a.forwardRef(function(e,t){return a.a.createElement(O,g({svgRef:t},e))});r.p;function E(){return(E=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function j(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},c=Object.keys(e);for(n=0;n<c.length;n++)r=c[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(n=0;n<c.length;n++)r=c[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var w=a.a.createElement("line",{x1:18,y1:6,x2:6,y2:18}),k=a.a.createElement("line",{x1:6,y1:6,x2:18,y2:18}),x=function(e){var t=e.svgRef,r=j(e,["svgRef"]);return a.a.createElement("svg",E({viewBox:"0 0 24 24",fill:"none",stroke:"#000000",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round",ref:t},r),w,k)},R=a.a.forwardRef(function(e,t){return a.a.createElement(x,E({svgRef:t},e))});r.p;function S(){return(S=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function P(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},c=Object.keys(e);for(n=0;n<c.length;n++)r=c[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(n=0;n<c.length;n++)r=c[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var L=a.a.createElement("path",{d:"M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"}),C=a.a.createElement("line",{x1:12,y1:9,x2:12,y2:13}),I=a.a.createElement("line",{x1:12,y1:17,x2:12,y2:17}),N=function(e){var t=e.svgRef,r=P(e,["svgRef"]);return a.a.createElement("svg",S({viewBox:"0 0 24 24",fill:"none",stroke:"#000000",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round",ref:t},r),L,C,I)},_=a.a.forwardRef(function(e,t){return a.a.createElement(N,S({svgRef:t},e))});r.p;function q(){return(q=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function B(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},c=Object.keys(e);for(n=0;n<c.length;n++)r=c[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(n=0;n<c.length;n++)r=c[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var W=a.a.createElement("path",{d:"M6 9l6 6 6-6"}),Q=function(e){var t=e.svgRef,r=B(e,["svgRef"]);return a.a.createElement("svg",q({viewBox:"0 0 24 24",fill:"none",stroke:"#000000",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round",ref:t},r),W)},z=a.a.forwardRef(function(e,t){return a.a.createElement(Q,q({svgRef:t},e))});r.p;function F(){return(F=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function M(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},c=Object.keys(e);for(n=0;n<c.length;n++)r=c[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(n=0;n<c.length;n++)r=c[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var A=a.a.createElement("rect",{x:3,y:3,width:7,height:7}),D=a.a.createElement("rect",{x:14,y:3,width:7,height:7}),J=a.a.createElement("rect",{x:14,y:14,width:7,height:7}),U=a.a.createElement("rect",{x:3,y:14,width:7,height:7}),V=function(e){var t=e.svgRef,r=M(e,["svgRef"]);return a.a.createElement("svg",F({viewBox:"0 0 24 24",fill:"none",stroke:"#000000",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round",ref:t},r),A,D,J,U)},Y=a.a.forwardRef(function(e,t){return a.a.createElement(V,F({svgRef:t},e))});r.p;function G(){return(G=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function H(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},c=Object.keys(e);for(n=0;n<c.length;n++)r=c[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(n=0;n<c.length;n++)r=c[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var K=a.a.createElement("path",{d:"M19 21l-7-5-7 5V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2z"}),T=function(e){var t=e.svgRef,r=H(e,["svgRef"]);return a.a.createElement("svg",G({viewBox:"0 0 24 24",fill:"none",stroke:"#000000",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round",ref:t},r),K)},X=a.a.forwardRef(function(e,t){return a.a.createElement(T,G({svgRef:t},e))});r.p;function Z(){return(Z=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function $(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},c=Object.keys(e);for(n=0;n<c.length;n++)r=c[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(n=0;n<c.length;n++)r=c[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var ee=a.a.createElement("circle",{cx:11,cy:11,r:8}),te=a.a.createElement("line",{x1:21,y1:21,x2:16.65,y2:16.65}),re=function(e){var t=e.svgRef,r=$(e,["svgRef"]);return a.a.createElement("svg",Z({viewBox:"0 0 24 24",fill:"none",stroke:"#000000",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round",ref:t},r),ee,te)},ne=a.a.forwardRef(function(e,t){return a.a.createElement(re,Z({svgRef:t},e))});r.p;function ae(){return(ae=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function ce(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},c=Object.keys(e);for(n=0;n<c.length;n++)r=c[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(n=0;n<c.length;n++)r=c[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var oe=a.a.createElement("circle",{cx:11,cy:11,r:8}),le=a.a.createElement("line",{x1:21,y1:21,x2:16.65,y2:16.65}),ie=a.a.createElement("line",{x1:11,y1:8,x2:11,y2:14}),ue=a.a.createElement("line",{x1:8,y1:11,x2:14,y2:11}),se=function(e){var t=e.svgRef,r=ce(e,["svgRef"]);return a.a.createElement("svg",ae({viewBox:"0 0 24 24",fill:"none",stroke:"#000000",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round",ref:t},r),oe,le,ie,ue)},fe=a.a.forwardRef(function(e,t){return a.a.createElement(se,ae({svgRef:t},e))}),pe=(r.p,function(e){switch(e.name){case"check":return a.a.createElement(d,null);case"close":return a.a.createElement(R,null);case"down":return a.a.createElement(z,null);case"grid":return a.a.createElement(Y,null);case"save":return a.a.createElement(X,null);case"search":return a.a.createElement(ne,null);case"zoom":return a.a.createElement(fe,null);default:return a.a.createElement(_,null)}}),me=function(){return a.a.createElement("div",{className:"spinner"})},ve=function(e){var t=e.type,r=e.icon,n=e.text,c=e.onClick;return a.a.createElement("button",{type:t,onClick:c,className:"btn-primary"},a.a.createElement(pe,{name:r}),n)},ye=function(e){var t=e.label,r=e.text,n=e.onClose;return a.a.createElement(a.a.Fragment,null,a.a.createElement("div",{className:"backdrop",onClick:n}),a.a.createElement("div",{className:"modal"},a.a.createElement("h3",null,t),a.a.createElement("p",null,r),a.a.createElement(ve,{type:"button",icon:"close",text:"Close",onClick:n})))},ge=function(e){var t=e.text,r=e.icon;return a.a.createElement("h2",{className:"title"},a.a.createElement(pe,{name:r})," ",t)},be=function(e){var t=e.id,r=e.autoFocus,n=e.name,c=e.className,o=e.placeholder,l=e.ariaLabel,i=e.value,u=e.onInputChange,s=e.onResetClick;return a.a.createElement("div",{className:c},a.a.createElement("input",{type:"search",id:t,name:n,placeholder:o,"aria-label":l,autoFocus:r,value:i,onChange:u}),i&&a.a.createElement("button",{type:"button",onClick:s},a.a.createElement(pe,{name:"close"})))},he=function(e){var t=e.image,r=t.urls,n=r.small,c=r.full,o=t.alt_description;return a.a.createElement("a",{href:c,target:"_blank",rel:"noopener noreferrer",className:"images__grid-item"},a.a.createElement("img",{src:n,alt:o}),a.a.createElement(pe,{name:"zoom"}))},Oe=function(){var e={rootURL:"https://api.unsplash.com/search/photos",perPage:12,initSearch:"lithuania",fetchInitObject:{headers:{"Accept-Version":"v1",Authorization:"Client-ID ".concat("add246dfc9062ada5430f31d4780b662b17688096628c892bb5fe9fc255cb810")}}},t=Object(n.useState)(""),r=Object(i.a)(t,2),c=r[0],o=r[1],s=Object(n.useState)({query:e.initSearch,page:1}),f=Object(i.a)(s,2),m=f[0],g=f[1],b=Object(n.useState)([]),h=Object(i.a)(b,2),O=h[0],d=h[1],E=Object(n.useState)(1),j=Object(i.a)(E,2),w=j[0],k=j[1],x=Object(n.useState)(!1),R=Object(i.a)(x,2),S=R[0],P=R[1],L=Object(n.useState)(""),C=Object(i.a)(L,2),I=C[0],N=C[1],_=Object(n.useContext)(u),q=_.queries,B=_.saveQuery,W=_.deleteQuery;Object(n.useEffect)(function(){Q(m.query)},[m]);var Q=function(){var t=Object(y.a)(v.a.mark(function t(r){var n,a,c,o,i;return v.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,P(!0),t.next=4,fetch("".concat(e.rootURL,"?page=").concat(m.page,"&per_page=").concat(e.perPage,"&query=").concat(r),e.fetchInitObject);case 4:if(200===(n=t.sent).status||201===n.status){t.next=7;break}throw new Error("Something went wrong");case 7:return t.next=9,n.json();case 9:if(a=t.sent,c=a.results,o=a.total_pages,c.length){t.next=14;break}throw new Error("Nothing found");case 14:1===m.page?d(c):d([].concat(Object(l.a)(O),Object(l.a)(c))),k(o),F({}),t.next=23;break;case 19:t.prev=19,t.t0=t.catch(0),i=t.t0.message,F({clearResults:!0,resetPages:!0,error:i});case 23:case"end":return t.stop()}},t,null,[[0,19]])}));return function(e){return t.apply(this,arguments)}}(),z=function(e){return e.trim().replace(/\s{1,}/g,",")},F=function(e){var t=e.clearInput,r=e.clearResults,n=e.resetPages,a=e.error;t&&o(""),r&&d([]),n&&k(1),N(a||""),P(!1)},M=function(){var e=m.page+1;g(Object(p.a)({},m,{page:e}))};return a.a.createElement(a.a.Fragment,null,I&&a.a.createElement(ye,{label:"Error!",text:I,onClose:function(){return F({})}}),a.a.createElement("section",{id:"controls"},a.a.createElement("form",{onSubmit:function(e){e.preventDefault();var t=z(c);t?g(Object(p.a)({},m,{page:1,query:t})):N("Enter search keywords")},className:"search"},a.a.createElement(be,{id:"search",name:"searchInput",className:"search__container",placeholder:"Start typing...",ariaLabel:"Search Images",autoFocus:!0,value:c,onInputChange:function(e){var t=e.target.value;o(t)},onResetClick:function(){return F({clearInput:!0,clearResults:!0,resetPages:!0})}}),a.a.createElement("div",{className:"search__actions"},S&&1===m.page?a.a.createElement(me,null):a.a.createElement(ve,{type:"submit",icon:"search",text:"Search"}),a.a.createElement(ve,{type:"button",icon:"check",text:"Save",onClick:function(){var e=z(c);try{if(!e)throw new Error("No keywords to save");B(e)}catch(r){var t=r.message;N(t)}}})))),a.a.createElement("section",{id:"content"},a.a.createElement("article",{className:"images"},a.a.createElement(ge,{text:"Images",icon:"grid"}),a.a.createElement("div",{className:"images__grid"},O.map(function(e){return a.a.createElement(he,{key:e.id,image:e})})),S&&1!==m.page?a.a.createElement(me,null):m.page!==w?a.a.createElement(ve,{type:"button",icon:"down",text:"Load more",onClick:M}):void 0),a.a.createElement("aside",{className:"queries"},a.a.createElement(ge,{text:"Saved searches",icon:"save"}),a.a.createElement("ul",null,q.map(function(e){return a.a.createElement("li",{key:e},a.a.createElement("button",{onClick:function(){return function(e){o(e),g(Object(p.a)({},m,{query:e,page:1}))}(e)},className:e===m.query?"queries--active":""},e,a.a.createElement("span",{onClick:function(t){return function(e,t){e.stopPropagation(),W(t)}(t,e)}},a.a.createElement(pe,{name:"close"}))))})))))},de=function(){return a.a.createElement(s,null,a.a.createElement(f,null,a.a.createElement(Oe,null)))};o.a.render(a.a.createElement(de,null),document.getElementById("root"))},8:function(e,t,r){e.exports=r(17)}},[[8,1,2]]]);
//# sourceMappingURL=main.db454b5e.chunk.js.map